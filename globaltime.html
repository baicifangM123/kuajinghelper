<!DOCTYPE html>
<html>
<head>
    <title>å…¨çƒæ—¶é—´æ¢ç®—</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        h1 {
            text-align: center;
        }
        hr {
            margin: 1em 0;
        }
        .time-container {
            margin-bottom: 1em;
        }
        .time-container label {
            display: inline-block;
            width: 100px;
        }
        .time-container input {
            width: 30px;
        }
        .time-container button {
            margin-left: 1em;
        }
        .day-change-label {
            font-size: 0.8em;
            color: #888;
        }
    </style>
</head>
<body>
    <div id="app">
        <h1>ğŸŒå…¨çƒæ—¶é—´æ¢ç®—</h1>
        <hr>
        <div class="time-container" v-for="(country, index) in countries" :key="index">
            <label>{{ country }}</label>
            <input type="number" min="0" max="23" placeholder="å°æ—¶" v-model="hours[index]">
            <input type="number" min="0" max="59" placeholder="åˆ†é’Ÿ" v-model="minutes[index]">
            <button @click="calculate(index)">è®¡ç®—</button>
            <span class="day-change-label">{{ dayChanges[index] }}</span>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12"></script>
    <script>
        new Vue({
            el: '#app',
            data: {
                countries: ["ä¸­å›½", "æ¬§æ´²", "ç¾è¥¿", "ç¾ä¸œ", "ç¾ä¸­", "æ—¥æœ¬", "æ–°è¥¿å…°", "æ¾³å¤§åˆ©äºš", "æ³°å›½", "å°åº¦", "ä¿„ç½—æ–¯", "åœŸè€³å…¶", "å¸Œè…Š", "è‹±å›½", "å·´è¥¿", "æ™ºåˆ©", "å¢¨è¥¿å“¥", "æ²™ç‰¹é˜¿æ‹‰ä¼¯", "é˜¿è”é…‹", "é©¬æ¥è¥¿äºš"],
                timeOffsets: [8, 1, -8, -5, -6, 9, 13, 10, 7, 5.5, 3, 3, 2, 0, -3, -4, -6, 3, 4, 8],
                hours: Array(20).fill(''),
                minutes: Array(20).fill(''),
                dayChanges: Array(20).fill('')
            },
            methods: {
                calculate(sourceIndex) {
                    var sourceHour = this.hours[sourceIndex];
                    var sourceMinute = this.minutes[sourceIndex];

                    if (sourceHour === "" || sourceMinute === "" || sourceHour > 23 || sourceMinute > 59) {
                        alert("è¯·è¾“å…¥æ­£ç¡®çš„æ—¶é—´ï¼");
                        return;
                    }

                    var sourceTimeInUtc = Number(sourceHour) - this.timeOffsets[sourceIndex];

                    for (var i = 0; i < this.countries.length; i++) {
                        var targetTime = sourceTimeInUtc + this.timeOffsets[i];
                        var dayChangeLabel = "";

                        if (targetTime < 0) {
                            targetTime += 24;
                            dayChangeLabel = "æ˜¨æ—¥";
                        }
                        if (targetTime >= 24) {
                            targetTime -= 24;
                            dayChangeLabel = "æ¬¡æ—¥";
                        }

                        this.hours[i] = Math.floor(targetTime);
                        this.minutes[i] = sourceMinute;
                        this.dayChanges[i] = dayChangeLabel;
                    }
                }
            }
        });
    </script>
</body>
</html>